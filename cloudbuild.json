{
    "steps": [
      {
        "name": "gcr.io/cloud-builders/docker",
        "args": ["build", "-t", "nginx-temp", "."]
      },
      {
        "name": "gcr.io/cloud-builders/docker",
        "entrypoint": "bash",
        "args": [
          "-c",
          "echo \"$DOCKER_PASSWORD\" | docker login -u ram0810 --password-stdin"
        ],
        "env": [
          "DOCKER_PASSWORD=${_DOCKER_PASSWORD}"
        ]
      },
      {
        "name": "gcr.io/cloud-builders/docker",
        "args": ["tag", "nginx-temp", "docker.io/ram0810/nginx-sample:latest"]
      },
      {
        "name": "gcr.io/cloud-builders/docker",
        "args": ["push", "docker.io/ram0810/nginx-sample:latest"]
      }
    ],
    "availableSecrets": {
      "secretManager": [
        {
          "versionName": "projects/YOUR_PROJECT_ID/secrets/docker-hub-credentials/versions/latest",
          "env": ["_DOCKER_PASSWORD"]
        }
      ]
    }
  }
  